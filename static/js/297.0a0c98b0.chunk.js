"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[297],{6577:function(e,t,n){n.d(t,{Jh:function(){return h},LP:function(){return u},OX:function(){return s},_r:function(){return l},oW:function(){return p}});var r=n(5562),o=n.n(r),i=n(2007),c=n.n(i),a="948166b3059358327aeb7a534b796286";function u(){return fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=".concat(a)).then((function(e){return e.ok?e.json():o().Notify.info("\u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c")})).then((function(e){return e.results.map((function(e){return{title:e.original_title,id:e.id,img:e.poster_path}}))}))}function s(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(a,"&language=UK")).then((function(e){return e.ok?e.json():o().Notify.info("\u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c")})).then((function(e){return{title:e.title,rating:e.popularity,releaseDate:e.release_date,genres:e.genres,overview:e.overview,posterPath:e.poster_path}}))}function h(e){return console.log(e,"1234"),fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(a,"&language=UK")).then((function(e){return e.ok?e.json():o().Notify.info("\u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c")})).then((function(e){return e.cast.map((function(e){return{character:e.character,name:e.original_name,photo:e.profile_path,id:e.id}}))}))}function l(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(a,"&language=UK&page=1")).then((function(e){return e.ok?e.json():o().Notify.info("\u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c")})).then((function(e){return{results:e.results}}))}function p(e){return fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(a,"&language=UK&query=").concat(e,"&page=1&include_adult=false")).then((function(e){return e.ok?e.json():o().Notify.info("\u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c")})).then((function(e){return e.results.map((function(e){return{id:e.id,title:e.original_title}}))}))}s.propTypes={id:c().number},h.propTypes={id:c().number},l.propTypes={id:c().number},p.propTypes={search:c().string}},297:function(e,t,n){n.r(t),n.d(t,{MoreInfoFilms:function(){return h}});var r=n(885),o=n(6577),i=n(2791),c=n(501),a=n(6871),u="moreinfo_link__m6eFO",s=n(184);function h(){var e,t,n=(0,i.useState)(null),h=(0,r.Z)(n,2),l=h[0],p=h[1],f=(0,a.UO)().movieId;console.log(f),(0,i.useEffect)((function(){""!==f&&(0,o.OX)(f).then(p)}),[f]);var d=(0,a.TH)();console.log(d);return(0,s.jsxs)(s.Fragment,{children:[l&&(0,s.jsxs)("div",{children:[(0,s.jsx)(c.OL,{className:u,to:null!==(e=null===(t=d.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/",children:"\u043d\u0430\u0437\u0430\u0434"}),(0,s.jsx)("br",{}),(0,s.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(l.posterPath),alt:"\u0444\u043e\u0442\u043e \u0444\u0438\u043b\u044c\u043c\u0430"}),(0,s.jsxs)("h1",{children:[l.title,"(",l.releaseDate,")"]}),(0,s.jsxs)("p",{children:["\u0420\u0435\u0439\u0442\u0438\u043d\u0433: ",l.rating]}),(0,s.jsx)("h2",{children:"\u041e\u043f\u0438\u0441:"}),(0,s.jsx)("p",{children:l.overview}),(0,s.jsx)("h2",{children:"\u0416\u0430\u043d\u0440\u0438:"}),(0,s.jsx)("p",{children:l.genres.map((function(e){return e.name})).join()})]}),(0,s.jsx)("hr",{}),(0,s.jsx)(c.OL,{to:"cast",children:"\u0410\u043a\u0442\u0435\u0440\u044b"}),(0,s.jsx)(c.OL,{to:"reviews",children:"\u041e\u0442\u0437\u044b\u0432\u044b"}),(0,s.jsx)("hr",{}),(0,s.jsx)(a.j3,{})]})}}}]);
//# sourceMappingURL=297.0a0c98b0.chunk.js.map