{"version":3,"file":"static/js/45.ff28fdb5.chunk.js","mappings":"iTAEMA,EAAQ,mCACP,SAASC,IACd,OAAOC,MAAM,4DAAD,OACkDF,IAE3DG,MAAK,SAAAC,GACJ,OAAKA,EAAEC,GAKAD,EAAEE,OAHAC,IAAAA,OAAAA,KAAqB,+GAK/BJ,MAAK,SAAAC,GASJ,OARaA,EAAEI,QAAQC,KAAI,SAAAC,GAMzB,MALU,CACRC,MAAOD,EAAKE,eACZC,GAAIH,EAAKG,GACTC,IAAKJ,EAAKK,mBAOb,SAASC,EAASH,GACvB,OAAOX,MAAM,sCAAD,OAC4BW,EAD5B,oBAC0Cb,EAD1C,iBAGTG,MAAK,SAAAC,GACJ,OAAKA,EAAEC,GAGAD,EAAEE,OAFAC,IAAAA,OAAAA,KAAqB,+GAI/BJ,MAAK,SAAAC,GASJ,MARa,CACXO,MAAOP,EAAEO,MACTM,OAAQb,EAAEc,WACVC,YAAaf,EAAEgB,aACfC,OAAQjB,EAAEiB,OACVC,SAAUlB,EAAEkB,SACZC,WAAYnB,EAAEW,gBAKf,SAASS,EAAWX,GAEzB,OADAY,QAAQC,IAAIb,EAAI,QACTX,MAAM,sCAAD,OAC4BW,EAD5B,4BACkDb,EADlD,iBAGTG,MAAK,SAAAC,GACJ,OAAKA,EAAEC,GAGAD,EAAEE,OAFAC,IAAAA,OAAAA,KAAqB,+GAI/BJ,MAAK,SAAAC,GAAC,OACLA,EAAEuB,KAAKlB,KAAI,SAAAmB,GAOT,MANa,CACXC,UAAWD,EAAEC,UACbC,KAAMF,EAAEG,cACRC,MAAOJ,EAAEK,aACTpB,GAAIe,EAAEf,UAMT,SAASqB,EAAWrB,GACzB,OAAOX,MAAM,sCAAD,OAC4BW,EAD5B,4BACkDb,EADlD,wBAGTG,MAAK,SAAAC,GACJ,OAAKA,EAAEC,GAGAD,EAAEE,OAFAC,IAAAA,OAAAA,KAAqB,+GAI/BJ,MAAK,SAAAC,GAIJ,MAHa,CACXI,QAASJ,EAAEI,YAKZ,SAAS2B,EAAmBC,GAEjC,OAAOlC,MAAM,qDAAD,OAC2CF,EAD3C,8BACsEoC,EADtE,gCAEVjC,MAAK,SAAAC,GACL,OAAIA,EAAEC,GAGCD,EAAEE,OAFAC,IAAAA,OAAAA,KAAqB,+GAG7BJ,MAAK,SAAAC,GAUP,OATcA,EAAEI,QAAQC,KACvB,SAAAC,GAKE,MAJU,CACRG,GAAGH,EAAKG,GACRF,MAAMD,EAAKE,sBASnBI,EAASqB,UAAY,CACnBxB,GAAIyB,IAAAA,QAENd,EAAWa,UAAY,CACrBxB,GAAIyB,IAAAA,QAENJ,EAAWG,UAAY,CACrBxB,GAAIyB,IAAAA,QAENH,EAAmBE,UAAY,CAC7BD,OAAQE,IAAAA,S,qICvHH,SAASC,IACd,OAAwBC,EAAAA,EAAAA,UAAS,MAAjC,eAAOC,EAAP,KAAaC,EAAb,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,SACRE,EAAAA,EAAAA,YAAU,WACO,KAAZF,GACDlB,QAAQC,IAAI,cAEdV,EAAAA,EAAAA,IAAS2B,GAASxC,KAAKuC,KACtB,CAACC,IAMJ,OACE,gCACGF,IACC,4BACE,gBAAKK,IAAG,UALH,mCAKG,OAAYL,EAAKlB,YAAcwB,IAAI,mEAC3C,0BACGN,EAAK9B,MADR,IACgB8B,EAAKtB,YADrB,QAGA,wEAAasB,EAAKxB,WAClB,uDACA,uBAAIwB,EAAKnB,YACT,6DACA,uBAAImB,EAAKpB,OAAOZ,KAAI,SAAAL,GAAC,OAAIA,EAAE0B,QAAMkB,aAGrC,mBACA,SAAC,KAAD,CAASC,GAAG,OAAZ,mDACA,SAAC,KAAD,CAASA,GAAG,UAAZ,mDACA,mBACA,SAAC,KAAD","sources":["components/api.jsx","components/page/moreinfofilm.jsx"],"sourcesContent":["import Notiflix from 'notiflix';\nimport PropTypes from 'prop-types';\nconst MYKEY = '948166b3059358327aeb7a534b796286';\nexport function trendingMovies() {\n  return fetch(\n    `https://api.themoviedb.org/3/trending/movie/week?api_key=${MYKEY}`\n  )\n    .then(r => {\n      if (!r.ok) {\n        //    throw new Error(r.message)\n        return Notiflix.Notify.info('проблемы с сервером');\n      }\n\n      return r.json();\n    })\n    .then(r => {\n      const data = r.results.map(mapd => {\n        const d = {\n          title: mapd.original_title,\n          id: mapd.id,\n          img: mapd.poster_path,\n        };\n        return d;\n      });\n      return data;\n    });\n}\nexport function MoreInfo(id) {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=${MYKEY}&language=UK`\n  )\n    .then(r => {\n      if (!r.ok) {\n        return Notiflix.Notify.info('проблемы с сервером');\n      }\n      return r.json();\n    })\n    .then(r => {\n      const data = {\n        title: r.title,\n        rating: r.popularity,\n        releaseDate: r.release_date,\n        genres: r.genres,\n        overview: r.overview,\n        posterPath: r.poster_path,\n      };\n      return data;\n    });\n}\nexport function getCredits(id) {\n  console.log(id, '1234');\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${MYKEY}&language=UK`\n  )\n    .then(r => {\n      if (!r.ok) {\n        return Notiflix.Notify.info('проблемы с сервером');\n      }\n      return r.json();\n    })\n    .then(r =>\n      r.cast.map(d => {\n        const data = {\n          character: d.character,\n          name: d.original_name,\n          photo: d.profile_path,\n          id: d.id,\n        };\n        return data;\n      })\n    );\n}\nexport function getReviews(id) {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${MYKEY}&language=UK&page=1`\n  )\n    .then(r => {\n      if (!r.ok) {\n        return Notiflix.Notify.info('проблемы с сервером');\n      }\n      return r.json();\n    })\n    .then(r => {\n      const data = {\n        results: r.results,\n      };\n      return data;\n    });\n}\nexport function getMoviesByKeyword(search) {\n \n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${MYKEY}&language=UK&query=${search}&page=1&include_adult=false`\n  ).then(r => {\n    if(!r.ok){\n      return Notiflix.Notify.info('проблемы с сервером');\n    }\n    return r.json();\n  }).then(r => {\n    const data = r.results.map(\n    mapd => {\n      const d = {\n        id:mapd.id,\n        title:mapd.original_title,\n      }\n      return d;\n    }\n    )\n   return data; \n  })\n}\n\nMoreInfo.propTypes = {\n  id: PropTypes.number\n}\ngetCredits.propTypes = {\n  id: PropTypes.number\n}\ngetReviews.propTypes = {\n  id: PropTypes.number\n}\ngetMoviesByKeyword.propTypes = {\n  search: PropTypes.string\n}","import { MoreInfo } from 'components/api';\nimport { useEffect, useState } from 'react';\nimport { NavLink, Outlet, useParams } from 'react-router-dom';\nexport function MoreInfoFilms() {\n  const [data, setData] = useState(null);\n  const { movieId } = useParams();\n  useEffect(() => {\n    if(movieId === ''){\n      console.log('123123231')\n    }\n    MoreInfo(movieId).then(setData);\n  }, [movieId]);\n\n  //   const m = data.genres.map(r => r.name);\n  //   const s = m.join();\n\n  const link = 'https://image.tmdb.org/t/p/w500';\n  return (\n    <>\n      {data && (\n        <div>\n          <img src={`${link}${data.posterPath}`} alt=\"фото фильма\" />\n          <h1>\n            {data.title}({data.releaseDate})\n          </h1>\n          <p>Рейтинг: {data.rating}</p>\n          <h2>Опис:</h2>\n          <p>{data.overview}</p>\n          <h2>Жанри:</h2>\n          <p>{data.genres.map(r => r.name).join()}</p>\n        </div>\n      )}\n      <hr />\n      <NavLink to=\"cast\">Актеры</NavLink>\n      <NavLink to=\"reviews\">Отзывы</NavLink>\n      <hr />\n      <Outlet />\n    </>\n  );\n}\n"],"names":["MYKEY","trendingMovies","fetch","then","r","ok","json","Notiflix","results","map","mapd","title","original_title","id","img","poster_path","MoreInfo","rating","popularity","releaseDate","release_date","genres","overview","posterPath","getCredits","console","log","cast","d","character","name","original_name","photo","profile_path","getReviews","getMoviesByKeyword","search","propTypes","PropTypes","MoreInfoFilms","useState","data","setData","movieId","useParams","useEffect","src","alt","join","to"],"sourceRoot":""}