{"version":3,"file":"static/js/842.14ccb912.chunk.js","mappings":"kTAEMA,EAAQ,mCACP,SAASC,IACd,OAAOC,MAAM,4DAAD,OACkDF,IAE3DG,MAAK,SAAAC,GACJ,OAAKA,EAAEC,GAKAD,EAAEE,OAHAC,IAAAA,OAAAA,KAAqB,+GAK/BJ,MAAK,SAAAC,GASJ,OARaA,EAAEI,QAAQC,KAAI,SAAAC,GAMzB,MALU,CACRC,MAAOD,EAAKE,eACZC,GAAIH,EAAKG,GACTC,IAAKJ,EAAKK,mBAOb,SAASC,EAASH,GACvB,OAAOX,MAAM,sCAAD,OAC4BW,EAD5B,oBAC0Cb,EAD1C,iBAGTG,MAAK,SAAAC,GACJ,OAAKA,EAAEC,GAGAD,EAAEE,OAFAC,IAAAA,OAAAA,KAAqB,+GAI/BJ,MAAK,SAAAC,GASJ,MARa,CACXO,MAAOP,EAAEO,MACTM,OAAQb,EAAEc,WACVC,YAAaf,EAAEgB,aACfC,OAAQjB,EAAEiB,OACVC,SAAUlB,EAAEkB,SACZC,WAAYnB,EAAEW,gBAKf,SAASS,EAAWX,GAEzB,OADAY,QAAQC,IAAIb,EAAI,QACTX,MAAM,sCAAD,OAC4BW,EAD5B,4BACkDb,EADlD,iBAGTG,MAAK,SAAAC,GACJ,OAAKA,EAAEC,GAGAD,EAAEE,OAFAC,IAAAA,OAAAA,KAAqB,+GAI/BJ,MAAK,SAAAC,GAAC,OACLA,EAAEuB,KAAKlB,KAAI,SAAAmB,GAOT,MANa,CACXC,UAAWD,EAAEC,UACbC,KAAMF,EAAEG,cACRC,MAAOJ,EAAEK,aACTpB,GAAIe,EAAEf,UAMT,SAASqB,EAAWrB,GACzB,OAAOX,MAAM,sCAAD,OAC4BW,EAD5B,4BACkDb,EADlD,wBAGTG,MAAK,SAAAC,GACJ,OAAKA,EAAEC,GAGAD,EAAEE,OAFAC,IAAAA,OAAAA,KAAqB,+GAI/BJ,MAAK,SAAAC,GAIJ,MAHa,CACXI,QAASJ,EAAEI,YAKZ,SAAS2B,EAAmBC,GAEjC,OAAOlC,MAAM,qDAAD,OAC2CF,EAD3C,8BACsEoC,EADtE,gCAEVjC,MAAK,SAAAC,GACL,OAAIA,EAAEC,GAGCD,EAAEE,OAFAC,IAAAA,OAAAA,KAAqB,+GAG7BJ,MAAK,SAAAC,GAUP,OATcA,EAAEI,QAAQC,KACvB,SAAAC,GAKE,MAJU,CACRG,GAAGH,EAAKG,GACRF,MAAMD,EAAKE,sBASnBI,EAASqB,UAAY,CACnBxB,GAAIyB,IAAAA,QAENd,EAAWa,UAAY,CACrBxB,GAAIyB,IAAAA,QAENJ,EAAWG,UAAY,CACrBxB,GAAIyB,IAAAA,QAENH,EAAmBE,UAAY,CAC7BD,OAAQE,IAAAA,S,mHCzHV,EAAuB,mB,SCGhB,SAASC,EAAT,GAAkC,IAAd5B,EAAa,EAAbA,MAAOE,EAAM,EAANA,GAI5B2B,GAAWC,EAAAA,EAAAA,MAEf,OACE,yBACE,SAAC,KAAD,CAAMC,UAAWC,EAAUC,GAAE,gBAClB/B,GAAMgC,MAAO,CAACC,KAAKN,EAASO,UADvC,SAEIpC,MCXH,SAASqC,IACd,OAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KAKA,OAJAC,EAAAA,EAAAA,YAAU,YACRnD,EAAAA,EAAAA,MAAiBE,KAAKgD,KACrB,KAGD,+BACE,wBACGD,GACCA,EAAMzC,KAAI,SAAAmB,GAAC,OACT,SAACW,EAAD,CAAqB1B,GAAIe,EAAEf,GAAIC,IAAKc,EAAEd,IAAKH,MAAOiB,EAAEjB,OAArCiB,EAAEf","sources":["components/api.jsx","webpack://react-homework-template/./src/components/home/home.module.css?7a05","components/home/homeitem.jsx","page/home.jsx"],"sourcesContent":["import Notiflix from 'notiflix';\nimport PropTypes from 'prop-types';\nconst MYKEY = '948166b3059358327aeb7a534b796286';\nexport function trendingMovies() {\n  return fetch(\n    `https://api.themoviedb.org/3/trending/movie/week?api_key=${MYKEY}`\n  )\n    .then(r => {\n      if (!r.ok) {\n        //    throw new Error(r.message)\n        return Notiflix.Notify.info('проблемы с сервером');\n      }\n\n      return r.json();\n    })\n    .then(r => {\n      const data = r.results.map(mapd => {\n        const d = {\n          title: mapd.original_title,\n          id: mapd.id,\n          img: mapd.poster_path,\n        };\n        return d;\n      });\n      return data;\n    });\n}\nexport function MoreInfo(id) {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=${MYKEY}&language=UK`\n  )\n    .then(r => {\n      if (!r.ok) {\n        return Notiflix.Notify.info('проблемы с сервером');\n      }\n      return r.json();\n    })\n    .then(r => {\n      const data = {\n        title: r.title,\n        rating: r.popularity,\n        releaseDate: r.release_date,\n        genres: r.genres,\n        overview: r.overview,\n        posterPath: r.poster_path,\n      };\n      return data;\n    });\n}\nexport function getCredits(id) {\n  console.log(id, '1234');\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${MYKEY}&language=UK`\n  )\n    .then(r => {\n      if (!r.ok) {\n        return Notiflix.Notify.info('проблемы с сервером');\n      }\n      return r.json();\n    })\n    .then(r =>\n      r.cast.map(d => {\n        const data = {\n          character: d.character,\n          name: d.original_name,\n          photo: d.profile_path,\n          id: d.id,\n        };\n        return data;\n      })\n    );\n}\nexport function getReviews(id) {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${MYKEY}&language=UK&page=1`\n  )\n    .then(r => {\n      if (!r.ok) {\n        return Notiflix.Notify.info('проблемы с сервером');\n      }\n      return r.json();\n    })\n    .then(r => {\n      const data = {\n        results: r.results,\n      };\n      return data;\n    });\n}\nexport function getMoviesByKeyword(search) {\n \n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${MYKEY}&language=UK&query=${search}&page=1&include_adult=false`\n  ).then(r => {\n    if(!r.ok){\n      return Notiflix.Notify.info('проблемы с сервером');\n    }\n    return r.json();\n  }).then(r => {\n    const data = r.results.map(\n    mapd => {\n      const d = {\n        id:mapd.id,\n        title:mapd.original_title,\n      }\n      return d;\n    }\n    )\n   return data; \n  })\n}\n\nMoreInfo.propTypes = {\n  id: PropTypes.number\n}\ngetCredits.propTypes = {\n  id: PropTypes.number\n}\ngetReviews.propTypes = {\n  id: PropTypes.number\n}\ngetMoviesByKeyword.propTypes = {\n  search: PropTypes.string\n}","// extracted by mini-css-extract-plugin\nexport default {\"Link\":\"home_Link__YADt+\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link , useLocation  } from 'react-router-dom';\nimport css from './home.module.css'\nexport function HomeItem({ title, id }) {\n\n \n\nconst location = useLocation()\n\n  return (\n    <li>\n      <Link className={css.Link} to={\n        `films/${id}`} state={{from:location.pathname}}\n        >{title}</Link>\n    </li>\n  );\n}\nHomeItem.propTypes = {\n  title: PropTypes.string,\n  id: PropTypes.number,\n};\n","import { trendingMovies } from 'components/api';\nimport { useState, useEffect } from 'react';\nimport { HomeItem } from '../components/home/homeitem';\nexport function Home() {\n  const [movie, setMovie] = useState([]);\n  useEffect(() => {\n    trendingMovies().then(setMovie);\n  }, []);\n\n  return (\n    <>\n      <ul>\n        {movie &&\n          movie.map(d => (\n            <HomeItem key={d.id} id={d.id} img={d.img} title={d.title} />\n          ))}\n      </ul>\n    </>\n  );\n}\n"],"names":["MYKEY","trendingMovies","fetch","then","r","ok","json","Notiflix","results","map","mapd","title","original_title","id","img","poster_path","MoreInfo","rating","popularity","releaseDate","release_date","genres","overview","posterPath","getCredits","console","log","cast","d","character","name","original_name","photo","profile_path","getReviews","getMoviesByKeyword","search","propTypes","PropTypes","HomeItem","location","useLocation","className","css","to","state","from","pathname","Home","useState","movie","setMovie","useEffect"],"sourceRoot":""}